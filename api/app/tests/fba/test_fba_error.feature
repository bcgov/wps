Feature: /fbc/

    Scenario: Fire Behaviour Calculation
        # NOTE: When writing requests, we already have stubs in place for the following station combinations:
        # (230,), (146,230), (322,346,335)
        Given <elevation>, <latitude>, <longitude>, <time_of_interest>, <wind_speed>, <wind_direction>, <percentage_conifer>, <percentage_dead_balsam_fir>, <grass_cure>, <crown_base_height>, <isi>, <bui>, <ffmc>, <dmc>, <dc>, <fuel_type>, <red_app_error_margin>, <note>
        Then ROS is within <spreadsheet_error_margin> of <spreadsheet_ros> with <note>
        Then CFB is within <spreadsheet_error_margin> of <spreadsheet_cfb> with <note>
        Then HFI is within <spreadsheet_error_margin> of <spreadsheet_hfi> with <note>
        And ROS is within <red_app_error_margin> of REDapp ROS
        And CFB is within <red_app_error_margin> of REDapp CFB
        And HFI is within <red_app_error_margin> of REDapp HFI

        # The spreadsheet error margin is horrible for C1 (17%)! This must be improved!
        # The redapp error margin is horrible for C6 (71%-80%)! This must be improved!
        # Current target for margin of error: 1% (or 0.01)
        Examples:
            | elevation | latitude   | longitude    | time_of_interest | wind_speed | wind_direction | percentage_conifer | percentage_dead_balsam_fir | grass_cure | crown_base_height | fuel_type | isi  | bui   | ffmc | dmc   | dc    | red_app_error_margin | spreadsheet_error_margin | spreadsheet_ros | spreadsheet_hfi | spreadsheet_cfb | note                               |
            | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 100                | None                       | None       | 2                 | C1        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.07                 | 0.18                     | 5.22            | 2590.68         | 0.6             |                                    |
            | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 100                | None                       | None       | 3                 | C2        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | 19.26           | 30072.67        | 1.0             |                                    |
            | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 100                | None                       | None       | 8                 | C3        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.14                 | 0.005                    | 8.21            | 13097.75        | 0.7             |                                    |
            | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 100                | None                       | None       | 4                 | C4        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.002                | 0.001                    | 18.77           | 31944.15        | 1.0             |                                    |
            | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 100                | None                       | None       | 18                | C5        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.002                | 0.001                    | 3.19            | 4081.48         | -7.9            | Spreadsheet gives me -7.9 for CFB! |
            | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 100                | None                       | None       | 7                 | C6        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.80                 | 0.001                    | None            | None            | None            | Spreadsheet doesn't do C6          |
            | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 100                | None                       | None       | 2                 | C6        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.71                 | 0.001                    | None            | None            | None            | Spreadhseet doesn't do C6          |
            | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 100                | None                       | None       | 10                | C7        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.011                    | 4.07            | 4089.57         | -0.9            |                                    |
            | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 100                | None                       | None       | None              | D1        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            | Spreadsheet doesn't do D1          |
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 75                 | None                       | None       | 6                 | M1        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 50                 | None                       | None       | 6                 | M1        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 25                 | None                       | None       | 6                 | M1        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 75                 | None                       | None       | 6                 | M2        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 50                 | None                       | None       | 6                 | M2        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | 25                 | None                       | None       | 6                 | M2        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | 30                         | None       | 6                 | M3        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | 60                         | None       | 6                 | M3        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | 100                        | None       | 6                 | M3        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | 30                         | None       | 6                 | M4        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | 60                         | None       | 6                 | M4        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | 100                        | None       | 6                 | M4        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | None                       | 25         | None              | O1A       | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | None                       | 50         | None              | O1A       | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | None                       | 100        | None              | O1A       | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | None                       | 25         | None              | O1B       | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | None                       | 50         | None              | O1B       | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | None                       | 100        | None              | O1B       | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | None                       | None       | None              | S1        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | 0.001                | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | None                       | None       | None              | S2        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | None                 | 0.001                    | None            | None            | None            ||
# | 780       | 50.6733333 | -120.4816667 | 2021-07-12       | 6.2        | 3              | None               | None                       | None       | None              | S3        | 11.5 | 186.8 | 94.8 | 126.1 | 900.3 | None                 | 0.001                    | None            | None            | None            ||


